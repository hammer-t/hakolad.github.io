function init(){for(can=document.getElementById("accueil-canvas"),ctx=can.getContext("2d"),width=$("body").width(),height=$("article#accueil-2").height()+40,x=0;numPoints>x;x++){var i=new Point;i._size=1,i._x=(Math.random()*width).toFixed(0),i._y=(Math.random()*height).toFixed(0),i._direction=(360*Math.random()).toFixed(2),i._velocity=2,i._randomization=(10*Math.random()+0).toFixed(2),aPoints.push(i)}animate()}function animate(){for(x=0;numPoints>x;x++)aPoints[x]._step(aPoints);requestAnimFrame(animate),draw()}function draw(){for(ctx.save(),ctx.clearRect(0,0,width,height),x=0;numPoints>x;x++)aPoints[x].draw(ctx);ctx.restore()}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(i){window.setTimeout(i,1e3/23)}}(),$(function(){$(window).resize(function(){$("#accueil-canvas").attr({width:$("body").width(),height:$("article#accueil-2").height()+40}),width=$("body").width(),height=$("article#accueil-2").height()+40}),$(window).resize()});var Point=function(){this._size=.5,this._x=0,this._y=0,this._direction=0,this._velocity=0,this._distances=[],this._neighboors=[],this._randomization=0,this.__collection=null,this._step=function(i){var t=.3*this._velocity*((Math.random()*this._randomization+1)/10),e=2*Math.random()%2>1?-1:1;this._direction=1*this._direction+Math.random()*this._randomization*e;var n=this._direction*Math.PI/180;this._x=1*this._x+t*Math.cos(n)*1,this._y=1*this._y+t*Math.sin(n)*1,this._x>width&&(this._x=0),this._x<0&&(this._x=width),this._y>height&&(this._y=0),this._y<0&&(this._y=height),this.__collection=i},this._computeNeighboors=function(){if(null!=this.__collection){for(aCollection=this.__collection,this._distances=[],i=0;i<aCollection.length;i++)aCollection[i]._x!=this._x&&aCollection[i]._y!=this._y&&this._distances.push({pointIndex:i,pointObj:aCollection[i],distance:Math.sqrt(Math.pow(this._x-aCollection[i]._x,2)+Math.pow(this._y-aCollection[i]._y,2))});this._distances.sort(function(i,t){return defaultReturn=0,i.distance<t.distance&&(defaultReturn=-1),i.distance>t.distance&&(defaultReturn=1),defaultReturn}),this._neighboors=this._distances.slice(0,3)}},this.draw=function(t){for(this._computeNeighboors(),t.lineWidth=.5,t.strokeStyle="#c5c5c5",t.beginPath(),i=0;i<this._neighboors.length;i++)t.moveTo(this._x,this._y),t.lineTo(this._neighboors[i].pointObj._x,this._neighboors[i].pointObj._y),t.lineWidth=.5+5/this._neighboors[i].distance;t.closePath(),t.stroke(),t.beginPath(),t.arc(this._x,this._y,this._size*this._velocity,0,2*Math.PI,!1),t.fillStyle="#c5c5c5",t.strokeStyle="#c5c5c5",t.lineWidth=5,t.fill(),t.stroke(),t.beginPath(),t.arc(this._x,this._y,this._size,0,2*Math.PI,!1),t.fillStyle="#c5c5c5",t.fill()}},aPoints=[],can,ctx,interval,width,height,numPoints=20;null!=document.getElementById("accueil-canvas")&&init();